---
title: "final_markdown"
author: "Sophia Tannir & Arielle Dror"
date: "May 2, 2018"
output: html_document
---
Libraries and data:
```{r}
library(tidyverse)
library(lubridate)

##loading data
mac_data <- read_csv("dj_macleish_file.csv")

##converting character to date
mac_data <- mac_data %>%
  mutate(visit_date = mdy(visit_date))

#converting vehicle characters to integers
mac_data <- mac_data %>%
  mutate(vehicles = parse_number(vehicles)) %>%
  mutate(vehicles = parse_integer(vehicles))
```

Adding sums:
```{r}
mac_summary <- mac_data %>%
  summarise(total_fac = sum(num_fac),
            total_students = sum(num_stude, na.rm = TRUE),
            total_noncomm = sum(non_scomm),
            total_cars = sum(vehicles, na.rm = TRUE),
            total_class = sum(!is.na(class)),
            total_class_unique = n_distinct(class),
            total_visitors = (total_students + total_noncomm + total_fac))
```

Departments:

```{r}
##Arranges it by class
mac_dept <- mac_data %>%
  filter(!is.na(class)) %>%
  arrange(class)

##takes the first 3 chars to get the dept codes
mac_dept_unique <- mac_data %>%
  mutate(dept_codes=substring(mac_data$class, 0, 3)) %>%
  filter(!is.na(dept_codes))

##computes the number of unique depts
mac_total_dept <- mac_dept_unique %>%
 summarise(total_unique_dept_codes=n_distinct(dept_codes))

##calculates the counts of each dept 
mac_dept_freq <- mac_dept_unique %>%
  count(dept_codes) %>%
  arrange(desc(n))
```

Text Analysis

```{r}
mac_purpose <- mac_data %>%
  mutate(purpose = tolower(purpose)) %>%
  filter(!is.na(purpose))
```
plz work 

